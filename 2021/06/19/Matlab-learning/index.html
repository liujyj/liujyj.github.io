<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="format-detection" content="telephone=no"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><link rel="icon" href="/images/icons/favicon-16x16.png?v=2.6.2" type="image/png" sizes="16x16"><link rel="icon" href="/images/icons/favicon-32x32.png?v=2.6.2" type="image/png" sizes="32x32"><meta name="description" content="作为一个计算机科班出身的人，很遗憾有太多知识没有及时学习，无论是哪种停滞不前的理由，此刻我们要相信，种树最好的时机是：十年前和现在。 接下来就开始小白学matlab啦！！！">
<meta property="og:type" content="article">
<meta property="og:title" content="Matlab learning">
<meta property="og:url" content="http://example.com/2021/06/19/Matlab-learning/index.html">
<meta property="og:site_name" content="Liu&#39;s blog">
<meta property="og:description" content="作为一个计算机科班出身的人，很遗憾有太多知识没有及时学习，无论是哪种停滞不前的理由，此刻我们要相信，种树最好的时机是：十年前和现在。 接下来就开始小白学matlab啦！！！">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/liujyj/liujyj.github.io@main/image/Matlab-learning/%E9%AB%98%E6%96%AF%E5%9B%9E%E5%BD%92%E8%BF%87%E7%A8%8B.jpg">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/liujyj/liujyj.github.io@main/image/Matlab-learning/%E9%AB%98%E6%96%AF%E5%9B%9E%E5%BD%92%E8%BF%87%E7%A8%8B%E4%BB%A3%E7%A0%8101.jpg">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/liujyj/liujyj.github.io@main/image/Matlab-learning/%E9%AB%98%E6%96%AF%E5%9B%9E%E5%BD%92%E8%BF%87%E7%A8%8B%E4%BB%A3%E7%A0%8102.jpg">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/liujyj/liujyj.github.io@main/image/Matlab-learning/%E9%AB%98%E6%96%AF%E5%9B%9E%E5%BD%92%E8%BF%87%E7%A8%8B%E4%BB%A3%E7%A0%8103.jpg">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/liujyj/liujyj.github.io@main/image/Matlab-learning/%E9%AB%98%E6%96%AF%E5%9B%9E%E5%BD%92%E8%BF%87%E7%A8%8B%E4%BB%A3%E7%A0%8104.jpg">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/liujyj/liujyj.github.io@main/image/Matlab-learning/%E9%AB%98%E6%96%AF%E5%9B%9E%E5%BD%92%E8%BF%87%E7%A8%8B%E4%BB%A3%E7%A0%8105.jpg">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/liujyj/liujyj.github.io@main/image/Matlab-learning/%E5%8E%9F%E5%A7%8B%E7%89%9B%E9%A1%BF%E8%BF%AD%E4%BB%A3%E6%B3%95.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/liujyj/liujyj.github.io@main/image/Matlab-learning/%E9%98%BB%E5%B0%BC%E7%89%9B%E9%A1%BF%E6%B3%95.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/liujyj/liujyj.github.io@main/image/Matlab-learning/%E6%8B%9F%E7%89%9B%E9%A1%BF%E6%9D%A1%E4%BB%B6.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/liujyj/liujyj.github.io@main/image/Matlab-learning/DFP%E7%AE%97%E6%B3%95%E6%8F%8F%E8%BF%B0.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/liujyj/liujyj.github.io@main/image/Matlab-learning/BFGS%E7%AE%97%E6%B3%95%E6%8F%8F%E8%BF%B0.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/liujyj/liujyj.github.io@main/image/Matlab-learning/2.1.jpg">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/liujyj/liujyj.github.io@main/image/Matlab-learning/2.2.jpg">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/liujyj/liujyj.github.io@main/image/Matlab-learning/2.3.jpg">
<meta property="article:published_time" content="2021-06-19T01:39:18.000Z">
<meta property="article:modified_time" content="2021-06-26T02:20:23.977Z">
<meta property="article:author" content="liujyj">
<meta property="article:tag" content="matlab 小白入门">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/liujyj/liujyj.github.io@main/image/Matlab-learning/%E9%AB%98%E6%96%AF%E5%9B%9E%E5%BD%92%E8%BF%87%E7%A8%8B.jpg"><title>Matlab learning | Liu's blog</title><link ref="canonical" href="http://example.com/2021/06/19/Matlab-learning/"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.12.1/css/all.min.css" type="text/css"><link rel="stylesheet" href="/css/index.css?v=2.6.2"><script>var Stun = window.Stun || {};
var CONFIG = {
  root: '/',
  algolia: undefined,
  assistSearch: undefined,
  fontIcon: {"prompt":{"success":"fas fa-check-circle","info":"fas fa-arrow-circle-right","warning":"fas fa-exclamation-circle","error":"fas fa-times-circle"},"copyBtn":"fas fa-copy"},
  sidebar: {"offsetTop":"20px","tocMaxDepth":6},
  header: {"enable":true,"showOnPost":true,"scrollDownIcon":false},
  postWidget: {"endText":true},
  nightMode: {"enable":true},
  back2top: {"enable":true},
  codeblock: {"style":"default","highlight":"light","wordWrap":false},
  reward: true,
  fancybox: false,
  zoomImage: {"gapAside":"20px"},
  galleryWaterfall: undefined,
  lazyload: false,
  pjax: undefined,
  externalLink: {"icon":{"enable":true,"name":"fas fa-external-link-alt"}},
  shortcuts: {"switchPost":true},
  prompt: {"copyButton":"复制","copySuccess":"复制成功","copyError":"复制失败"},
  sourcePath: {"js":"js","css":"css","images":"images"},
};

window.CONFIG = CONFIG;</script><meta name="generator" content="Hexo 5.4.0"></head><body><div class="container" id="container"><header class="header" id="header"><div class="header-inner"><nav class="header-nav header-nav--fixed"><div class="header-nav-inner"><div class="header-nav-menubtn"><i class="fas fa-bars"></i></div><div class="header-nav-menu"><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/reading/"><span class="header-nav-menu-item__icon"><i class="fas fa-book"></i></span><span class="header-nav-menu-item__text">阅读</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/"><span class="header-nav-menu-item__icon"><i class="fas fa-home"></i></span><span class="header-nav-menu-item__text">首页</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/archives/"><span class="header-nav-menu-item__icon"><i class="fas fa-folder-open"></i></span><span class="header-nav-menu-item__text">归档</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/categories/"><span class="header-nav-menu-item__icon"><i class="fas fa-layer-group"></i></span><span class="header-nav-menu-item__text">分类</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/tags/"><span class="header-nav-menu-item__icon"><i class="fas fa-tags"></i></span><span class="header-nav-menu-item__text">标签</span></a></div></div><div class="header-nav-mode"><div class="mode"><div class="mode-track"><span class="mode-track-moon"></span><span class="mode-track-sun"></span></div><div class="mode-thumb"></div></div></div></div></nav><div class="header-banner"><div class="header-banner-info"><div class="header-banner-info__title">Liu's blog</div><div class="header-banner-info__subtitle"></div></div></div></div></header><main class="main" id="main"><div class="main-inner"><div class="content-wrap" id="content-wrap"><div class="content" id="content"><!-- Just used to judge whether it is an article page--><div id="is-post"></div><div class="post"><header class="post-header"><h1 class="post-title">Matlab learning</h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">发表于</span><span class="post-meta-item__value">2021-06-19</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">更新于</span><span class="post-meta-item__value">2021-06-26</span></span></div></header><div class="post-body"><p><strong>作为一个计算机科班出身的人，很遗憾有太多知识没有及时学习，无论是哪种停滞不前的理由，此刻我们要相信，种树最好的时机是：十年前和现在。</strong></p>
<p><em>接下来就开始小白学matlab啦！！！</em></p>
<span id="more"></span>
<p>之前看过几个视频教程，觉得matlab简直不要太强了，可以应用到很多方面，数学、计算机、控制等。在网上找到一个比较好的练习教程，主要作为学习的例子，链接如下：<code>https://www.cnblogs.com/tiandsp/p/14337176.html</code></p>

        <h1 id="基础与技巧">
          <a href="#基础与技巧" class="heading-link"><i class="fas fa-link"></i></a><a href="#基础与技巧" class="headerlink" title="基础与技巧"></a>基础与技巧</h1>
      
        <h1 id="优化拟合">
          <a href="#优化拟合" class="heading-link"><i class="fas fa-link"></i></a><a href="#优化拟合" class="headerlink" title="优化拟合"></a>优化拟合</h1>
      
        <h2 id="1-高斯回归过程">
          <a href="#1-高斯回归过程" class="heading-link"><i class="fas fa-link"></i></a><a href="#1-高斯回归过程" class="headerlink" title="1.高斯回归过程"></a>1.高斯回归过程</h2>
      <p>看着教程了解点的高斯回归过程</p>
<p><img src="https://cdn.jsdelivr.net/gh/liujyj/liujyj.github.io@main/image/Matlab-learning/%E9%AB%98%E6%96%AF%E5%9B%9E%E5%BD%92%E8%BF%87%E7%A8%8B.jpg" alt="img"></p>
<ol>
<li>高斯核函数背后的思想：简单与复杂的辩证，从线性模型到非线性模型。线性模型很棒，因为它们易于理解且易于优化。神经网络可以学习更复杂的决策边界，但会丢失许多线性模型的漂亮凸性。。是线性模型表现为非线性的一种方法是<strong>转换输入</strong>，例如：<strong>通过添加特征对作为附加输入</strong>，在这样的表示上学习线性模型是凸的。</li>
</ol>
<p><strong>不明确地扩展特征空间，是否可以在保留原始数据的同时，隐藏地处理特征扩张？这就是核方法</strong></p>
<p><em>通过核方法，可以很好的处理线性不可分问题。简单性的哲学思想实质上就是，我们坚持寻找线性可分的转换问题，即变换数据，让它们线性可分，而变换数据的方法就是由低维到多维特征的一个特征空间变换</em>。</p>
<p><strong>高斯核函数可以把低维空间转化为无限维空间，同时又在实现了在低维计算高维点积。</strong></p>
<p><strong>第一、把有限空间映射到无限空间</strong></p>
<p>核方法就是将数据空间放进更高维向量空间的方式，使得数据空间与高维空间中超平面的交点决定了数据空间中更复杂、弯曲的决策边界。</p>
<p>由<code>(x,y)</code>二维数据空间转换为五维空间<br>$$<br>(x,y,x^2,y^2,x^y)<br>$$<br>为了增加难度，甚至更高维的九维空间。九维空间<br>$$<br>（x,y,x^2,y^2,x^y,x^3,x^2y,xy^2,y^3)<br>$$<br><strong>第二、从无限返回有限</strong></p>
<p>在现实中，我们更需要用有限形式的计算表示无限维度的计算，避免维度灾难。</p>
<p>我们将通过每个点发送到无限向量来定义无限多项式核<br>$$<br>(x,y,x^2,y^2,x^y,x^3,x^2y,xy^2,y^3,x^4,……)<br>$$<br><strong>实际上，原始的五维空间包含在这个无限维空间中。原始的五维核是我们通过将无穷多项式核投影到这个五维空间中得到的。</strong></p>
<p>将原始数据空间中的核定义到无限维空间中，最常见的选择是高斯函数。<strong>将每个数据点发送到以某点为核的高斯函数。将原始数据空间中的每个点放入到更高（实际上是无限）的维向量空间</strong>。<br>在应用计算机处理时，将通过选择数据空间中的点（有限）来选择有限维空间，然后采用以这些<strong>点为中心的高斯斑点所跨越的向量空间</strong>。如在上文中，由无限多项式核的前五个坐标定义的向量空间。<br><strong>投影：实现无限维空间返回到有限维</strong><br>对于有限维向量，定义投影的最常用方法是使用点积：这是我们通过将两个向量的相应坐标相乘，然后将它们全部加在一起得到的数字。例如，三维向量的点积(1,2,3)和(2,5,4)的1·2+2·5+3·4=15，如果我们将两个高斯函数相乘并积分，则该数字等于中心点之间距离的高斯函数。<br><strong>换句话说，高斯核将无限维空间中的点积转换为数据空间中点之间距离的高斯函数。</strong><br>从有限维到无限维空间的思想，帮助我们更好的理解高维空间的线性可分思想；而从无限维返回到有限维，又让我们更好的理解其几何意义、更好的实现计算。</p>
<ol start="2">
<li>指数衰减函数：揭秘分类的精妙。</li>
</ol>
<p>具有高斯核的SVM分类器简单地是在数据点和每个支持向量之间计算的核函数的加权线性组合。<strong>支持向量在数据点分类中的作用通过α（支持向量的全局预测有用性）和K（x，y）（支持向量在特定数据点的预测中的局部影响）来调和的。</strong></p>
<p>下面开始matlab的代码学习。</p>
<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">x=0:0.1:8;              %原始数据</span><br><span class="line">y = x.*sin(x) + x/5;    </span><br><span class="line">plot(x,y,&#x27;r&#x27;)</span><br></pre></td></tr></table></div></figure>

<p><img src="https://cdn.jsdelivr.net/gh/liujyj/liujyj.github.io@main/image/Matlab-learning/%E9%AB%98%E6%96%AF%E5%9B%9E%E5%BD%92%E8%BF%87%E7%A8%8B%E4%BB%A3%E7%A0%8101.jpg" alt="img"></p>
<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">gc_x = x(1:end);        %观测数据加噪声</span><br><span class="line">gc_y = y(1:end) + (rand(1,length(gc_x))-0.5)/3;   %设置一个噪声范围</span><br><span class="line">hold on;</span><br><span class="line">plot(gc_x,gc_y,&#x27;ro&#x27;) </span><br><span class="line">‘o’代表每个数据点用小圆圈表示，且数据点之前不用线连接，看起来很像散点图,&#x27;ro&#x27;代表小圆圈是红色的</span><br></pre></td></tr></table></div></figure>

<p><img src="https://cdn.jsdelivr.net/gh/liujyj/liujyj.github.io@main/image/Matlab-learning/%E9%AB%98%E6%96%AF%E5%9B%9E%E5%BD%92%E8%BF%87%E7%A8%8B%E4%BB%A3%E7%A0%8102.jpg" alt="img"></p>
<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">x=0:0.1:8;              %原始数据</span><br><span class="line">y = x.*sin(x) + x/5;    </span><br><span class="line">plot(x,y,&#x27;r&#x27;)</span><br><span class="line"></span><br><span class="line">gc_x = x(1:end);        %观测数据加噪声</span><br><span class="line">gc_y = y(1:end) + (rand(1,length(gc_x))-0.5)/3;</span><br><span class="line">hold on;</span><br><span class="line">plot(gc_x,gc_y,&#x27;ro&#x27;)</span><br><span class="line"></span><br><span class="line">x=0:0.05:8;             %带预测数据</span><br><span class="line">num = length(gc_x);</span><br><span class="line">K = zeros(num,num);                 %根据核函数给出自观测矩阵</span><br><span class="line">Ks = zeros(num,length(x));          %根据核函数给出观测预测矩阵</span><br><span class="line">Kss = zeros(length(x),length(x));   %根据核函数给出预测矩阵</span><br></pre></td></tr></table></div></figure>

<p><img src="https://cdn.jsdelivr.net/gh/liujyj/liujyj.github.io@main/image/Matlab-learning/%E9%AB%98%E6%96%AF%E5%9B%9E%E5%BD%92%E8%BF%87%E7%A8%8B%E4%BB%A3%E7%A0%8103.jpg" alt="img"></p>
<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sigma = 0.001;  %sigma改成2可以明显看出方差范围    </span><br><span class="line">mean_y = Ks&#x27;*inv(K + sigma*eye(length(K)))*gc_y&#x27;;  %原文中已给出计算方法</span><br><span class="line">std_y = diag(Kss - Ks&#x27;*inv(K + sigma*eye(length(K)))*Ks);</span><br><span class="line">plot(x,mean_y,&#x27;c&#x27;);</span><br></pre></td></tr></table></div></figure>

<p><img src="https://cdn.jsdelivr.net/gh/liujyj/liujyj.github.io@main/image/Matlab-learning/%E9%AB%98%E6%96%AF%E5%9B%9E%E5%BD%92%E8%BF%87%E7%A8%8B%E4%BB%A3%E7%A0%8104.jpg" alt="img"></p>
<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">%画出方差范围</span><br><span class="line">max_y = mean_y + abs(std_y);</span><br><span class="line">min_y = mean_y - abs(std_y);</span><br><span class="line">yFill = [max_y&#x27;, fliplr(min_y&#x27;)]; %fliplr 为翻转</span><br><span class="line">xFill = [x, fliplr(x)];</span><br></pre></td></tr></table></div></figure>

<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">plot(x,max_y,&#x27;c&#x27;);</span><br><span class="line">plot(x,min_y,&#x27;c&#x27;);</span><br><span class="line">fill(xFill, yFill, &#x27;c&#x27;,&#x27;edgealpha&#x27;,0,&#x27;facealpha&#x27;,0.1);</span><br><span class="line">% fill函数是matlab中进行图形填充的一种函数，一般我们只要知道图形的边界参数后，就能画出设计区域的填充图形</span><br></pre></td></tr></table></div></figure>

<p><img src="https://cdn.jsdelivr.net/gh/liujyj/liujyj.github.io@main/image/Matlab-learning/%E9%AB%98%E6%96%AF%E5%9B%9E%E5%BD%92%E8%BF%87%E7%A8%8B%E4%BB%A3%E7%A0%8105.jpg" alt="img"></p>
<p>感觉这个对于基础学习似乎也不错：<span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://blog.csdn.net/qq_38431572/category_9417566.html">https://blog.csdn.net/qq_38431572/category_9417566.html</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></p>

        <h2 id="2-BFGS">
          <a href="#2-BFGS" class="heading-link"><i class="fas fa-link"></i></a><a href="#2-BFGS" class="headerlink" title="2 BFGS"></a>2 BFGS</h2>
      <p>感觉这个对于基础学习似乎也不错：<span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://blog.csdn.net/qq_38431572/category_9417566.html">https://blog.csdn.net/qq_38431572/category_9417566.html</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></p>
<p>1.拟牛顿法是求解<strong>非线性优化问题</strong>最有效的方法之一，<strong>DFP、BFGS方法以及L-BFGS算法都是重要的拟牛顿法</strong></p>
<p>（1）原始牛顿法 ：在现有极小点估计值的附近对f(x)做二阶泰勒展开，进而找到极小点的下一个估计值。<br><img src="https://cdn.jsdelivr.net/gh/liujyj/liujyj.github.io@main/image/Matlab-learning/%E5%8E%9F%E5%A7%8B%E7%89%9B%E9%A1%BF%E8%BF%AD%E4%BB%A3%E6%B3%95.png" alt="img"></p>
<p>（2）阻尼牛顿法：由于原始牛顿法不能保证函数值稳定下降，提出了“阻尼牛顿法”，即寻找最优的步长因子。<br><img src="https://cdn.jsdelivr.net/gh/liujyj/liujyj.github.io@main/image/Matlab-learning/%E9%98%BB%E5%B0%BC%E7%89%9B%E9%A1%BF%E6%B3%95.png" alt="img">    </p>
<p>2.拟牛顿法：不用二阶偏导数而构造出可以近似海森矩阵（或海森矩阵的逆）的正定对称阵，在“拟牛顿”的条件下优化目标函数，不同的构造方法就产生了不同的拟牛顿法。</p>
<p><strong>拟牛顿条件或拟牛顿方程或割线条件</strong>：实质是对海森矩阵近似的理论依据。<br><img src="https://cdn.jsdelivr.net/gh/liujyj/liujyj.github.io@main/image/Matlab-learning/%E6%8B%9F%E7%89%9B%E9%A1%BF%E6%9D%A1%E4%BB%B6.png" alt="img"></p>
<p>3.DFPS<br>该算法的核心：通过迭代的方法，对<br>$$<br>H^{-1}<em>{k+1}<br>$$<br>做近似。其迭代格式为<br>$$<br>D</em>{K+1} = D_{K} + \vartriangle D_{K}<br>$$<br><img src="https://cdn.jsdelivr.net/gh/liujyj/liujyj.github.io@main/image/Matlab-learning/DFP%E7%AE%97%E6%B3%95%E6%8F%8F%E8%BF%B0.png" alt="img"><br>4.与DFP算法类似，只是互换了其中的<br>$$<br>s_{k} 和 y_{k}<br>$$<br><img src="https://cdn.jsdelivr.net/gh/liujyj/liujyj.github.io@main/image/Matlab-learning/BFGS%E7%AE%97%E6%B3%95%E6%8F%8F%E8%BF%B0.png" alt="img"></p>
<p>整个算法不在需要求解线性代数方程组，由矩阵-向量运算就可以完成了。<br>5.L-BFGS<br>不在是用存储完整的矩阵，而是存储计算过程中的向量序列。</p>
<p>BFGS和DFP都是拟牛顿法，和高斯牛顿法不同的地方是不用直接求黑塞矩阵了，而BFGS又比DFP算法有更好的数值稳定性。</p>
<p>算法步骤如下：</p>
<p>\1. 给一个待求参数的初始值x(1)。</p>
<p>\2. 给定H(1)矩阵为单位阵，并且计算出待优化函数在x(k)处的梯度g(k)。</p>
<p>\3. 令d(k) = -H(k)*g(k)，得到搜索方向。</p>
<p>\4. 从x(k)出发，沿着d(k)方向搜索，给定一个步长，找到其搜索范围内比当前参数x(k)更小函数值对应的x值，记为x(k+1)。</p>
<p>\5. 计算待优化函数在x(k+1)处的梯度g(k+1)。</p>
<p>\6. 计算此时参数位移p = x(k+1) - x(k)和梯度位移q = g(k+1) - g(k)。</p>
<p>\7. 最后根据下面迭代公式更新H矩阵即可，当g小于一定阈值时认为迭代结束。</p>
<p>下面两个公式是对偶的，形式上就是把p和q对换了一下，通常BFGS性能更优。</p>
<p>以下为一个<span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://www.itl.nist.gov/div898/strd/nls/data/boxbod.shtml">NIST非线性拟合例题</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>作为示例。</p>
<p>[<span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://blog.csdn.net/itplus/article/details/21897715]">https://blog.csdn.net/itplus/article/details/21897715]</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>: </p>
<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">data=[109 1;        %待拟合数据</span><br><span class="line">      149 2;</span><br><span class="line">      149 3;</span><br><span class="line">      191 5;</span><br><span class="line">      213 7;</span><br><span class="line">      224 10];</span><br><span class="line"></span><br><span class="line">y = data(:,1);</span><br><span class="line">x = data(:,2);</span><br><span class="line">plot(x,y,&#x27;ro&#x27;);</span><br></pre></td></tr></table></div></figure>

<p><img src="https://cdn.jsdelivr.net/gh/liujyj/liujyj.github.io@main/image/Matlab-learning/2.1.jpg" alt="img"></p>
<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">syms b1 b2;</span><br><span class="line">ff = sum((y - (b1*(1-exp(-b2*x)))).^2); %定义待优化函数</span><br><span class="line">dff1 = diff(ff,b1);                     %两个参数的偏导</span><br><span class="line">dff2 = diff(ff,b2);</span><br></pre></td></tr></table></div></figure>

<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">f=inline(char(ff),&#x27;b1&#x27;,&#x27;b2&#x27;);           %转为函数</span><br><span class="line">g1=inline(char(dff1),&#x27;b1&#x27;,&#x27;b2&#x27;);</span><br><span class="line">g2=inline(char(dff2),&#x27;b1&#x27;,&#x27;b2&#x27;);   %inline 定义成函数</span><br></pre></td></tr></table></div></figure>

<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">b = [1;1];                              %初始参数</span><br><span class="line">rho = 0.5;sigma = 0.5;                  %迭代步长</span><br><span class="line">H = eye(2);                             %用来替代hessian矩阵的H矩阵</span><br><span class="line">% eye 返回（2*2）的单位矩阵</span><br></pre></td></tr></table></div></figure>

<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">re=[];</span><br><span class="line">for i=1:200</span><br><span class="line">    g = [g1(b(1),b(2));g2(b(1),b(2))]; </span><br><span class="line">    dk = -inv(H)*g;  %inv 对矩阵求拟</span><br></pre></td></tr></table></div></figure>

<figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">re=[];</span><br><span class="line">for i=1:200</span><br><span class="line">    g = [g1(b(1),b(2));g2(b(1),b(2))]; </span><br><span class="line">    dk = -inv(H)*g;</span><br><span class="line">    </span><br><span class="line">    mk=1;   </span><br><span class="line">    for j=1:20              %局部最优搜索</span><br><span class="line">        new=f(b(1)+rho^j*dk(1),b(2)+rho^j*dk(2));   </span><br><span class="line">        old=f(b(1),b(2));</span><br><span class="line">        </span><br><span class="line">        if new &lt; old + sigma*rho^j*g&#x27;*dk</span><br><span class="line">            mk = j;</span><br><span class="line">            break;</span><br><span class="line">        end</span><br><span class="line">    end</span><br><span class="line">    </span><br><span class="line">    norm(g)</span><br><span class="line">    if norm(g)&lt;1e-20 || isnan(new)</span><br><span class="line">    % isnan函数：判断数组的元素是否是NaN。（Not a Number）</span><br><span class="line">        break;</span><br><span class="line">    end </span><br><span class="line">    b = b + rho^mk*dk;      %向局部最优方向移动</span><br><span class="line">    gg=[g1(b(1),b(2));g2(b(1),b(2))];</span><br><span class="line">    </span><br><span class="line">    q = gg - g;             %q = g(k+1)-g(k)</span><br><span class="line">    p = rho^mk*dk;          %p = x(k+1)-x(k)</span><br><span class="line">    H = H - (H*p*p&#x27;*H)/(p&#x27;*H*p) + (q*q&#x27;)/(q&#x27;*p);    %矩阵更新</span><br><span class="line">end</span><br><span class="line">b</span><br><span class="line">x1 = min(x):0.01:max(x);</span><br><span class="line">y1 = (b(1)*(1-exp(-b(2)*x1)));</span><br><span class="line">hold on;</span><br><span class="line">plot(x1,y1,&#x27;b&#x27;);</span><br></pre></td></tr></table></div></figure>

<p><img src="https://cdn.jsdelivr.net/gh/liujyj/liujyj.github.io@main/image/Matlab-learning/2.2.jpg" alt="img"></p>
<p>最终的结果图为</p>
<p><img src="https://cdn.jsdelivr.net/gh/liujyj/liujyj.github.io@main/image/Matlab-learning/2.3.jpg" alt="img"></p>

        <h1 id="计算几何">
          <a href="#计算几何" class="heading-link"><i class="fas fa-link"></i></a><a href="#计算几何" class="headerlink" title="计算几何"></a>计算几何</h1>
      
        <h1 id="图像处理">
          <a href="#图像处理" class="heading-link"><i class="fas fa-link"></i></a><a href="#图像处理" class="headerlink" title="图像处理"></a>图像处理</h1>
      
        <h1 id="点云处理">
          <a href="#点云处理" class="heading-link"><i class="fas fa-link"></i></a><a href="#点云处理" class="headerlink" title="点云处理"></a>点云处理</h1>
      
        <h1 id="路径规划">
          <a href="#路径规划" class="heading-link"><i class="fas fa-link"></i></a><a href="#路径规划" class="headerlink" title="路径规划"></a>路径规划</h1>
      
        <h1 id="机器学习">
          <a href="#机器学习" class="heading-link"><i class="fas fa-link"></i></a><a href="#机器学习" class="headerlink" title="机器学习"></a>机器学习</h1>
      
        <h1 id="微分方程">
          <a href="#微分方程" class="heading-link"><i class="fas fa-link"></i></a><a href="#微分方程" class="headerlink" title="微分方程"></a>微分方程</h1>
      
        <h1 id="图论">
          <a href="#图论" class="heading-link"><i class="fas fa-link"></i></a><a href="#图论" class="headerlink" title="图论"></a>图论</h1>
      
        <h1 id="控制">
          <a href="#控制" class="heading-link"><i class="fas fa-link"></i></a><a href="#控制" class="headerlink" title="控制"></a>控制</h1>
      </div><footer class="post-footer"><div class="post-ending ending"><div class="ending__text">------ 本文结束，感谢您的阅读 ------</div></div><div class="post-copyright copyright"><div class="copyright-author"><span class="copyright-author__name">本文作者: </span><span class="copyright-author__value"><a href="http://example.com">liujyj</a></span></div><div class="copyright-link"><span class="copyright-link__name">本文链接: </span><span class="copyright-link__value"><a href="http://example.com/2021/06/19/Matlab-learning/">http://example.com/2021/06/19/Matlab-learning/</a></span></div><div class="copyright-notice"><span class="copyright-notice__name">版权声明: </span><span class="copyright-notice__value">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.en" rel="external nofollow" target="_blank">BY-NC-SA</a> 许可协议。转载请注明出处！</span></div></div><div class="post-tags"><span class="post-tags-item"><span class="post-tags-item__icon"><i class="fas fa-tag"></i></span><a class="post-tags-item__link" href="http://example.com/tags/matlab-%E5%B0%8F%E7%99%BD%E5%85%A5%E9%97%A8/">matlab 小白入门</a></span></div><div class="post-reward reward"><div class="reward-button">请我喝杯咖啡~</div><div class="reward-qrcode"><span class="reward-qrcode-alipay"><img class="reward-qrcode-alipay__img" src="/image/money1.jpg"><div class="reward-qrcode-alipay__text">支付宝打赏</div></span><span class="reward-qrcode-wechat"><img class="reward-qrcode-wechat__img" src="/image/money.jpg"><div class="reward-qrcode-wechat__text">微信打赏</div></span></div></div><nav class="post-paginator paginator"><div class="paginator-next"><a class="paginator-next__link" href="/2021/06/19/Literature-reading/"><span class="paginator-prev__text">Literature reading</span><span class="paginator-next__icon"><i class="fas fa-angle-right"></i></span></a></div></nav></footer></div></div></div><div class="sidebar-wrap" id="sidebar-wrap"><aside class="sidebar" id="sidebar"><div class="sidebar-nav"><span class="sidebar-nav-toc current">文章目录</span><span class="sidebar-nav-ov">站点概览</span></div><section class="sidebar-toc"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E4%B8%8E%E6%8A%80%E5%B7%A7"><span class="toc-number">1.</span> <span class="toc-text">
          基础与技巧</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BC%98%E5%8C%96%E6%8B%9F%E5%90%88"><span class="toc-number">2.</span> <span class="toc-text">
          优化拟合</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E9%AB%98%E6%96%AF%E5%9B%9E%E5%BD%92%E8%BF%87%E7%A8%8B"><span class="toc-number">2.1.</span> <span class="toc-text">
          1.高斯回归过程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-BFGS"><span class="toc-number">2.2.</span> <span class="toc-text">
          2 BFGS</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E5%87%A0%E4%BD%95"><span class="toc-number">3.</span> <span class="toc-text">
          计算几何</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86"><span class="toc-number">4.</span> <span class="toc-text">
          图像处理</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%82%B9%E4%BA%91%E5%A4%84%E7%90%86"><span class="toc-number">5.</span> <span class="toc-text">
          点云处理</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%B7%AF%E5%BE%84%E8%A7%84%E5%88%92"><span class="toc-number">6.</span> <span class="toc-text">
          路径规划</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0"><span class="toc-number">7.</span> <span class="toc-text">
          机器学习</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%BE%AE%E5%88%86%E6%96%B9%E7%A8%8B"><span class="toc-number">8.</span> <span class="toc-text">
          微分方程</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%9B%BE%E8%AE%BA"><span class="toc-number">9.</span> <span class="toc-text">
          图论</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%8E%A7%E5%88%B6"><span class="toc-number">10.</span> <span class="toc-text">
          控制</span></a></li></ol></section><!-- ov = overview--><section class="sidebar-ov hide"><div class="sidebar-ov-author"><div class="sidebar-ov-author__avatar"><img class="sidebar-ov-author__avatar_img" src="/image/tupian.png" alt="avatar"></div><p class="sidebar-ov-author__text">九层之台，起于累土</p></div><div class="sidebar-ov-state"><a class="sidebar-ov-state-item sidebar-ov-state-item--posts" href="/archives/"><div class="sidebar-ov-state-item__count">6</div><div class="sidebar-ov-state-item__name">归档</div></a><a class="sidebar-ov-state-item sidebar-ov-state-item--categories" href="/categories/"><div class="sidebar-ov-state-item__count">5</div><div class="sidebar-ov-state-item__name">分类</div></a><a class="sidebar-ov-state-item sidebar-ov-state-item--tags" href="/tags/"><div class="sidebar-ov-state-item__count">5</div><div class="sidebar-ov-state-item__name">标签</div></a></div><div class="sidebar-ov-cc"><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.en" target="_blank" rel="noopener" data-popover="知识共享许可协议" data-popover-pos="up"><img src="/images/cc-by-nc-sa.svg"></a></div></section><div class="sidebar-reading"><div class="sidebar-reading-info"><span class="sidebar-reading-info__text">你已阅读了 </span><span class="sidebar-reading-info__num">0</span><span class="sidebar-reading-info__perc">%</span></div><div class="sidebar-reading-line"></div></div></aside></div><div class="clearfix"></div></div></main><footer class="footer" id="footer"><div class="footer-inner"><div><span>Copyright © 2021</span><span class="footer__icon"><i class="fas fa-heart"></i></span><span>liujyj</span></div><div><span>由 <a href="http://hexo.io/" title="Hexo" target="_blank" rel="noopener">Hexo</a> 强力驱动</span><span> v5.4.0</span><span class="footer__devider">|</span><span>主题 - <a href="https://github.com/liuyib/hexo-theme-stun/" title="Stun" target="_blank" rel="noopener">Stun</a></span><span> v2.6.2</span></div></div></footer><div class="loading-bar" id="loading-bar"><div class="loading-bar__progress"></div></div><div class="back2top" id="back2top"><span class="back2top__icon"><i class="fas fa-rocket"></i></span></div></div><script src="https://cdn.jsdelivr.net/npm/jquery@v3.4.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.2/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.2/velocity.ui.min.js"></script><script src="https://cdn.jsdelivr.net/npm/ribbon.js@latest/dist/ribbon.min.js" size="120" alpha="0.6" zIndex="-1"></script><script src="https://cdn.jsdelivr.net/npm/canvas-nest.js@1.0.1/dist/canvas-nest.min.js" color="0,0,0" opacity="0.6" count="99" zIndex="-1"></script><script src="/js/utils.js?v=2.6.2"></script><script src="/js/stun-boot.js?v=2.6.2"></script><script src="/js/scroll.js?v=2.6.2"></script><script src="/js/header.js?v=2.6.2"></script><script src="/js/sidebar.js?v=2.6.2"></script></body></html>